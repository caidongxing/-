<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.hy.dao.SignbilldetailMapper" >
  <resultMap id="BaseResultMap" type="com.hy.po.Signbilldetail" >
    <id column="signbilldetailid" property="signbilldetailid" jdbcType="INTEGER" />
    <result column="signbillid" property="signbillid" jdbcType="INTEGER" />
    <result column="signbilldate" property="signbilldate" jdbcType="TIMESTAMP" />
    <result column="consumerdescribe" property="consumerdescribe" jdbcType="VARCHAR" />
    <result column="expenditure" property="expenditure" jdbcType="DECIMAL" />
    <result column="accountitemsid" property="accountitemsid" jdbcType="INTEGER" />
    <result column="comment" property="comment" jdbcType="VARCHAR" />
    <result column="iscashpledge" property="iscashpledge" jdbcType="INTEGER" />
    <result column="isproceeds" property="isproceeds" jdbcType="INTEGER" />
    <result column="quantity" property="quantity" jdbcType="INTEGER" />
  </resultMap>
  <sql id="Base_Column_List" >
    signbilldetailid, signbillid, signbilldate, consumerdescribe, expenditure, accountitemsid, 
    comment,iscashpledge,isproceeds,quantity
  </sql>
  
  <select id="findForeignKey" resultMap="BaseResultMap" parameterType="java.lang.Integer" >
    select 
    <include refid="Base_Column_List" />
    from signbilldetail
    where signbillid = #{signbillid,jdbcType=INTEGER}
  </select>
  
  <select id="findByAccountId" resultMap="BaseResultMap" parameterType="java.lang.Integer" >
    SELECT sd.*,s.accountid FROM signbilldetail sd INNER JOIN signbill s ON  sd.signbillid = s.signbillid
    where s.accountid = #{accountid,jdbcType=INTEGER}
  </select>
  
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.Integer" >
    select 
    <include refid="Base_Column_List" />
    from signbilldetail
    where signbilldetailid = #{signbilldetailid,jdbcType=INTEGER}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer" >
    delete from signbilldetail
    where signbilldetailid = #{signbilldetailid,jdbcType=INTEGER}
  </delete>
  <insert id="insert" parameterType="com.hy.po.Signbilldetail" >
    <selectKey resultType="java.lang.Integer" keyProperty="signbilldetailid" order="AFTER" >
      SELECT LAST_INSERT_ID()
    </selectKey>
    insert into signbilldetail (signbillid, signbilldate, consumerdescribe, 
      expenditure, accountitemsid, comment,iscashpledge,isproceeds,quantity
      )
    values (#{signbillid,jdbcType=INTEGER}, #{signbilldate,jdbcType=TIMESTAMP}, #{consumerdescribe,jdbcType=VARCHAR}, 
      #{expenditure,jdbcType=DECIMAL}, #{accountitemsid,jdbcType=INTEGER}, #{comment,jdbcType=VARCHAR}, 
      #{iscashpledge,jdbcType=INTEGER},#{isproceeds,jdbcType=INTEGER},#{quantity,jdbcType=INTEGER}
      )
  </insert>
  <insert id="insertSelective" parameterType="com.hy.po.Signbilldetail" >
    <selectKey resultType="java.lang.Integer" keyProperty="signbilldetailid" order="AFTER" >
      SELECT LAST_INSERT_ID()
    </selectKey>
    insert into signbilldetail
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="signbillid != null" >
        signbillid,
      </if>
      <if test="signbilldate != null" >
        signbilldate,
      </if>
      <if test="consumerdescribe != null" >
        consumerdescribe,
      </if>
      <if test="expenditure != null" >
        expenditure,
      </if>
      <if test="accountitemsid != null" >
        accountitemsid,
      </if>
      <if test="comment != null" >
        comment,
      </if>
      <if test="iscashpledge != null" >
        iscashpledge,
      </if>
      <if test="isproceeds != null" >
        isproceeds,
      </if>
      <if test="quantity != null" >
        quantity,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="signbillid != null" >
        #{signbillid,jdbcType=INTEGER},
      </if>
      <if test="signbilldate != null" >
        #{signbilldate,jdbcType=TIMESTAMP},
      </if>
      <if test="consumerdescribe != null" >
        #{consumerdescribe,jdbcType=VARCHAR},
      </if>
      <if test="expenditure != null" >
        #{expenditure,jdbcType=DECIMAL},
      </if>
      <if test="accountitemsid != null" >
        #{accountitemsid,jdbcType=INTEGER},
      </if>
      <if test="comment != null" >
        #{comment,jdbcType=VARCHAR},
      </if>
      <if test="iscashpledge != null" >
        #{iscashpledge,jdbcType=INTEGER},
      </if>
      <if test="isproceeds != null" >
        #{isproceeds,jdbcType=INTEGER},
      </if>
      <if test="quantity != null" >
        #{quantity,jdbcType=INTEGER},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.hy.po.Signbilldetail" >
    update signbilldetail
    <set >
      <if test="signbillid != null" >
        signbillid = #{signbillid,jdbcType=INTEGER},
      </if>
      <if test="signbilldate != null" >
        signbilldate = #{signbilldate,jdbcType=TIMESTAMP},
      </if>
      <if test="consumerdescribe != null" >
        consumerdescribe = #{consumerdescribe,jdbcType=VARCHAR},
      </if>
      <if test="expenditure != null" >
        expenditure = #{expenditure,jdbcType=DECIMAL},
      </if>
      <if test="accountitemsid != null" >
        accountitemsid = #{accountitemsid,jdbcType=INTEGER},
      </if>
      <if test="comment != null" >
        comment = #{comment,jdbcType=VARCHAR},
      </if>
      <if test="iscashpledge != null" >
        iscashpledge = #{iscashpledge,jdbcType=INTEGER},
      </if>
      <if test="isproceeds != null" >
        isproceeds = #{isproceeds,jdbcType=INTEGER},
      </if>
      <if test="quantity != null" >
        quantity = #{quantity,jdbcType=INTEGER},
      </if>
    </set>
    where signbilldetailid = #{signbilldetailid,jdbcType=INTEGER}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.hy.po.Signbilldetail" >
    update signbilldetail
    set signbillid = #{signbillid,jdbcType=INTEGER},
      signbilldate = #{signbilldate,jdbcType=TIMESTAMP},
      consumerdescribe = #{consumerdescribe,jdbcType=VARCHAR},
      expenditure = #{expenditure,jdbcType=DECIMAL},
      accountitemsid = #{accountitemsid,jdbcType=INTEGER},
      comment = #{comment,jdbcType=VARCHAR},
      iscashpledge = #{iscashpledge,jdbcType=INTEGER},
      isproceeds = #{isproceeds,jdbcType=INTEGER},
      quantity = #{quantity,jdbcType=INTEGER}
    where signbilldetailid = #{signbilldetailid,jdbcType=INTEGER}
  </update>
</mapper>