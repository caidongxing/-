<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.hy.dao.OtherinfoMapper" >
  <resultMap id="BaseResultMap" type="com.hy.po.Otherinfo" >
    <id column="OtherInfoid" property="otherinfoid" jdbcType="INTEGER" />
    <result column="membercardid" property="membercardid" jdbcType="INTEGER" />
    <result column="reception" property="reception" jdbcType="VARCHAR" />
    <result column="settleaccounts" property="settleaccounts" jdbcType="VARCHAR" />
    <result column="room" property="room" jdbcType="VARCHAR" />
    <result column="consumption" property="consumption" jdbcType="VARCHAR" />
    <result column="chargelogo" property="chargelogo" jdbcType="INTEGER" />
    <result column="discountcode" property="discountcode" jdbcType="INTEGER" />
    <result column="reservationway" property="reservationway" jdbcType="INTEGER" />
    <result column="affirmway" property="affirmway" jdbcType="INTEGER" />
    <result column="arrivegrogshopflight" property="arrivegrogshopflight" jdbcType="VARCHAR" />
    <result column="leavegrogshopflight" property="leavegrogshopflight" jdbcType="VARCHAR" />
    <result column="roomreservationid" property="roomreservationid" jdbcType="INTEGER" />
    <result column="creditcardid" property="creditcardid" jdbcType="INTEGER" />
  </resultMap>
  <sql id="Base_Column_List" >
    OtherInfoid, membercardid, reception, settleaccounts, room, consumption, chargelogo, 
    discountcode, reservationway, affirmway, arrivegrogshopflight, leavegrogshopflight, 
    roomreservationid, creditcardid
  </sql>
  
  <select id="findByForeignKey" resultType="com.hy.vo.OtherInfo" parameterType="java.lang.Integer" >
    select oi.*,mc.membercardnumber,mc.membercardtype,mc.membercardname,mc.balance,
cc.creditcardnumber,cc.creditcardtype,cc.validitydate,cc.quota
FROM otherinfo oi left JOIN membercard mc on oi.membercardid = mc.membercardid
left JOIN creditcard cc on oi.creditcardid = cc.creditcardid
    where oi.roomreservationid = #{roomreservationid,jdbcType=INTEGER}
  </select>
  
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.Integer" >
    select 
    <include refid="Base_Column_List" />
    from otherinfo
    where OtherInfoid = #{otherinfoid,jdbcType=INTEGER}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer" >
    delete from otherinfo
    where OtherInfoid = #{otherinfoid,jdbcType=INTEGER}
  </delete>
  <insert id="insert" parameterType="com.hy.po.Otherinfo" >
    <selectKey resultType="java.lang.Integer" keyProperty="otherinfoid" order="AFTER" >
      SELECT LAST_INSERT_ID()
    </selectKey>
    insert into otherinfo (membercardid, reception, settleaccounts, 
      room, consumption, chargelogo, 
      discountcode, reservationway, affirmway, 
      arrivegrogshopflight, leavegrogshopflight, 
      roomreservationid, creditcardid)
    values (#{membercardid,jdbcType=INTEGER}, #{reception,jdbcType=VARCHAR}, #{settleaccounts,jdbcType=VARCHAR}, 
      #{room,jdbcType=VARCHAR}, #{consumption,jdbcType=VARCHAR}, #{chargelogo,jdbcType=INTEGER}, 
      #{discountcode,jdbcType=INTEGER}, #{reservationway,jdbcType=INTEGER}, #{affirmway,jdbcType=INTEGER}, 
      #{arrivegrogshopflight,jdbcType=VARCHAR}, #{leavegrogshopflight,jdbcType=VARCHAR}, 
      #{roomreservationid,jdbcType=INTEGER}, #{creditcardid,jdbcType=INTEGER})
  </insert>
  <insert id="insertSelective" parameterType="com.hy.po.Otherinfo" >
    <selectKey resultType="java.lang.Integer" keyProperty="otherinfoid" order="AFTER" >
      SELECT LAST_INSERT_ID()
    </selectKey>
    insert into otherinfo
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="membercardid != null" >
        membercardid,
      </if>
      <if test="reception != null" >
        reception,
      </if>
      <if test="settleaccounts != null" >
        settleaccounts,
      </if>
      <if test="room != null" >
        room,
      </if>
      <if test="consumption != null" >
        consumption,
      </if>
      <if test="chargelogo != null" >
        chargelogo,
      </if>
      <if test="discountcode != null" >
        discountcode,
      </if>
      <if test="reservationway != null" >
        reservationway,
      </if>
      <if test="affirmway != null" >
        affirmway,
      </if>
      <if test="arrivegrogshopflight != null" >
        arrivegrogshopflight,
      </if>
      <if test="leavegrogshopflight != null" >
        leavegrogshopflight,
      </if>
      <if test="roomreservationid != null" >
        roomreservationid,
      </if>
      <if test="creditcardid != null" >
        creditcardid,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="membercardid != null" >
        #{membercardid,jdbcType=INTEGER},
      </if>
      <if test="reception != null" >
        #{reception,jdbcType=VARCHAR},
      </if>
      <if test="settleaccounts != null" >
        #{settleaccounts,jdbcType=VARCHAR},
      </if>
      <if test="room != null" >
        #{room,jdbcType=VARCHAR},
      </if>
      <if test="consumption != null" >
        #{consumption,jdbcType=VARCHAR},
      </if>
      <if test="chargelogo != null" >
        #{chargelogo,jdbcType=INTEGER},
      </if>
      <if test="discountcode != null" >
        #{discountcode,jdbcType=INTEGER},
      </if>
      <if test="reservationway != null" >
        #{reservationway,jdbcType=INTEGER},
      </if>
      <if test="affirmway != null" >
        #{affirmway,jdbcType=INTEGER},
      </if>
      <if test="arrivegrogshopflight != null" >
        #{arrivegrogshopflight,jdbcType=VARCHAR},
      </if>
      <if test="leavegrogshopflight != null" >
        #{leavegrogshopflight,jdbcType=VARCHAR},
      </if>
      <if test="roomreservationid != null" >
        #{roomreservationid,jdbcType=INTEGER},
      </if>
      <if test="creditcardid != null" >
        #{creditcardid,jdbcType=INTEGER},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.hy.po.Otherinfo" >
    update otherinfo
    <set >
      <if test="membercardid != null" >
        membercardid = #{membercardid,jdbcType=INTEGER},
      </if>
      <if test="reception != null" >
        reception = #{reception,jdbcType=VARCHAR},
      </if>
      <if test="settleaccounts != null" >
        settleaccounts = #{settleaccounts,jdbcType=VARCHAR},
      </if>
      <if test="room != null" >
        room = #{room,jdbcType=VARCHAR},
      </if>
      <if test="consumption != null" >
        consumption = #{consumption,jdbcType=VARCHAR},
      </if>
      <if test="chargelogo != null" >
        chargelogo = #{chargelogo,jdbcType=INTEGER},
      </if>
      <if test="discountcode != null" >
        discountcode = #{discountcode,jdbcType=INTEGER},
      </if>
      <if test="reservationway != null" >
        reservationway = #{reservationway,jdbcType=INTEGER},
      </if>
      <if test="affirmway != null" >
        affirmway = #{affirmway,jdbcType=INTEGER},
      </if>
      <if test="arrivegrogshopflight != null" >
        arrivegrogshopflight = #{arrivegrogshopflight,jdbcType=VARCHAR},
      </if>
      <if test="leavegrogshopflight != null" >
        leavegrogshopflight = #{leavegrogshopflight,jdbcType=VARCHAR},
      </if>
      <if test="roomreservationid != null" >
        roomreservationid = #{roomreservationid,jdbcType=INTEGER},
      </if>
      <if test="creditcardid != null" >
        creditcardid = #{creditcardid,jdbcType=INTEGER},
      </if>
    </set>
    where OtherInfoid = #{otherinfoid,jdbcType=INTEGER}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.hy.po.Otherinfo" >
    update otherinfo
    set membercardid = #{membercardid,jdbcType=INTEGER},
      reception = #{reception,jdbcType=VARCHAR},
      settleaccounts = #{settleaccounts,jdbcType=VARCHAR},
      room = #{room,jdbcType=VARCHAR},
      consumption = #{consumption,jdbcType=VARCHAR},
      chargelogo = #{chargelogo,jdbcType=INTEGER},
      discountcode = #{discountcode,jdbcType=INTEGER},
      reservationway = #{reservationway,jdbcType=INTEGER},
      affirmway = #{affirmway,jdbcType=INTEGER},
      arrivegrogshopflight = #{arrivegrogshopflight,jdbcType=VARCHAR},
      leavegrogshopflight = #{leavegrogshopflight,jdbcType=VARCHAR},
      roomreservationid = #{roomreservationid,jdbcType=INTEGER},
      creditcardid = #{creditcardid,jdbcType=INTEGER}
    where OtherInfoid = #{otherinfoid,jdbcType=INTEGER}
  </update>
</mapper>